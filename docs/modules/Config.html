<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>&lt;pre&gt;  BPView::Config</title>
	<meta name="description" content="Pod documentation for &lt;pre&gt;  BPView::Config" />
	<meta name="inputfile" content="../lib/BPView/Config.pm" />
	<meta name="outputfile" content="../docs/modules/Config.html" />
	<meta name="created" content="Fri Dec 12 00:12:16 2014" />
	<meta name="generator" content="Pod::Xhtml 1.61" />
</head>
<body>
<div class="pod">
<!-- INDEX START -->
<h3 id="TOP">Index</h3>

<ul><li><a href="#NAME">NAME</a></li>
<li><a href="#SYNOPSIS">SYNOPSIS</a></li>
<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
<li><a href="#CONSTRUCTOR">CONSTRUCTOR</a>
<ul><li><a href="#new_ARGS">new ( [ARGS] )</a></li>
</ul>
</li>
<li><a href="#METHODS">METHODS	</a>
<ul><li><a href="#read_config">read_config</a></li>
<li><a href="#read_dir">read_dir</a></li>
<li><a href="#validate_bpview">validate_bpview</a></li>
<li><a href="#validate_bpviewd">validate_bpviewd</a></li>
<li><a href="#process_views">process_views</a></li>
<li><a href="#get_dashboards">get_dashboards</a></li>
<li><a href="#get_css">get_css</a></li>
</ul>
</li>
<li><a href="#EXAMPLES">EXAMPLES</a></li>
<li><a href="#SEE_ALSO">SEE ALSO</a></li>
<li><a href="#AUTHOR">AUTHOR</a></li>
<li><a href="#VERSION">VERSION</a></li>
<li><a href="#COPYRIGHT_AND_LICENSE">COPYRIGHT AND LICENSE</a>
</li>
</ul><hr />
<!-- INDEX END -->

<h1 id="NAME">NAME</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="NAME_CONTENT">
<pre>  BPView::Config - Open and validate config files

</pre>

</div>
<h1 id="SYNOPSIS">SYNOPSIS</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="SYNOPSIS_CONTENT">
<pre>  use BPView::Config;
  my $conf = BPView::Config-&gt;new( 'dir'	=&gt; $cfg_dir);
  my $config = $conf-&gt;read_dir();
  $conf-&gt;validate( 'config' =&gt; $config);

</pre>

</div>
<h1 id="DESCRIPTION">DESCRIPTION</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="DESCRIPTION_CONTENT">
<p>This module searches, opens and validates BPView-YAML config files.</p>

</div>
<h1 id="CONSTRUCTOR">CONSTRUCTOR</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="CONSTRUCTOR_CONTENT">

</div>
<h2 id="new_ARGS">new ( [ARGS] )</h2>
<div id="new_ARGS_CONTENT">
<p>Creates an BPView::Config object. Arguments are in key-value pairs.
See <cite>EXAMPLES</cite> for more complex variants.</p>
<dl>
	<dt>dir</dt>
	<dd>
		<p>directory to scan for config files with BPView::Config-&gt;read_dir()</p>
	</dd>
	<dt>file</dt>
	<dd>
		<p>config file to parse with BPView::Config-&gt;read_config()</p>
	</dd>
	<dt>config</dt>
	<dd>
		<p>config to validate by BPView::Config-&gt;validate() or to get dashboards
from with BPView::Config-&gt;get_dashboards() </p>
	</dd>
	<dt>template</dt>
	<dd>
		<p>name of template to use (default: default)
Make sure to create a folder with this name in:
  $data_dir/css/
  $data_dir/images
  $src_dir/</p>
	</dd>
	<dt>page</dt>
	<dd>
		<p>name of TT template for displaying webpage</p>
	</dd>
	<dt>content</dt>
	<dd>
		<p>additional content which shall be passed to TT </p>

</div>
<h1 id="METHODS">METHODS	</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="METHODS_CONTENT">

</div>
<h2 id="read_config">read_config</h2>
<div id="read_config_CONTENT">
<pre> read_config ( 'file' =&gt; $file)

</pre>
		<p>Opens a specified file and reads its content into Hashref.
Returns Hashref.</p>
<pre>  my $file = 'test.yml';
  my $config = $conf-&gt;read_config( 'file' =&gt; $file);

</pre>
		<p>$VAR1 = {
          'refresh' =&gt; {
                         'interval' =&gt; 300
                       }
        };</p>

</div>
<h2 id="read_dir">read_dir</h2>
<div id="read_dir_CONTENT">
<pre> read_dir ( 'dir' =&gt; $directory)

</pre>
		<p>Searches for files with ending &quot;.yml&quot; in specified directories and calls read_config to
reads its content into Hash.
Returns Hash.</p>
<pre>  my $directory = '/etc/bpview';
  my $config = $conf-&gt;read_dir( 'dir' =&gt; $directory);

</pre>
		<p>$VAR1 = {
          'refresh' =&gt; {
                         'interval' =&gt; 300
                       }
        };</p>

</div>
<h2 id="validate_bpview">validate_bpview</h2>
<div id="validate_bpview_CONTENT">
<pre> validate_bpview ( 'config' =&gt; $config)

</pre>
		<p>Validates a specified config hashref if required parameters for BPView are present.
Croaks on error.</p>
<pre>  $conf-&gt;validate_bpview( 'config' =&gt; $config);

</pre>

</div>
<h2 id="validate_bpviewd">validate_bpviewd</h2>
<div id="validate_bpviewd_CONTENT">
<pre> validate_bpviewd ( 'config' =&gt; $config)

</pre>
		<p>Validates a specified config hashref if required parameters for BPView are present.
Croaks on error.</p>
<pre>  $conf-&gt;validate_bpviewd( 'config' =&gt; $config);

</pre>

</div>
<h2 id="process_views">process_views</h2>
<div id="process_views_CONTENT">
<pre> process_views ( 'config' =&gt; $config)

</pre>
		<p>Converts an array into hash if products are configured other then expected and
checks if enviroments, topics and products are defined (empty categories aren't
allowed.)</p>
		<p>Expected:
dashboard:
  views:
    environment:
      topic:
        product1:
        product2:</p>
		<p>Also possible (will be converted into structure above):        
dashboard:
  views:
    environment:
      topic:
        - product1
        - product2</p>
		<p>Returns converted view config.</p>
<pre>  $config = $conf-&gt;process_views( 'config' =&gt; $config);

</pre>

</div>
<h2 id="get_dashboards">get_dashboards</h2>
<div id="get_dashboards_CONTENT">
<pre> get_dashboard ( 'config' =&gt; $views)

</pre>
		<p>Gets dashboard names out of given view config.
Returns dashboard names arrayref.</p>
<pre>  my $dashboards = $conf-&gt;get_dashboards( 'config' =&gt; $views);

</pre>

</div>
<h2 id="get_css">get_css</h2>
<div id="get_css_CONTENT">
<pre> get_css ( 'config' =&gt; $config)

</pre>
		<p>Searches for css files on filesystem.
Returns dashboard names arrayref.</p>
<pre>  my $css_files = $conf-&gt;get_css( 'config' =&gt; $config);

</pre>

</div>
<h1 id="EXAMPLES">EXAMPLES</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="EXAMPLES_CONTENT">
		<p>Read all config files from a given directory and validate its parameters.</p>
<pre>  use BPView::Config;
  my $directory = '/etc/bpview';

  my $conf = BPView::Config-&gt;new( 'directory' =&gt; $directory ));
  my $config = $conf-&gt;read_dir();
  $conf-&gt;validate_bpview( 'config' =&gt; $config);

</pre>
		<p>Read view config files and get dashboard names.</p>
<pre>  use BPView::Config;
  my $directory = '/etc/bpview/views';

  my $conf = BPView::Config-&gt;new ( 'dir' =&gt; $directory );
  my $views = $conf-&gt;read_dir();
     $views = $conf-&gt;process_views( 'config' =&gt; $views );
  my $dashboards = $conf-&gt;get_dashboards( 'config' =&gt; $views );




</pre>

</div>
<h1 id="SEE_ALSO">SEE ALSO</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="SEE_ALSO_CONTENT">

</div>
<h1 id="AUTHOR">AUTHOR</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="AUTHOR_CONTENT">
		<p>Rene Koch, &lt;r.koch@ovido.at&gt;
Peter Stoeckl, &lt;p.stoeckl@ovido.at&gt;</p>

</div>
<h1 id="VERSION">VERSION</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="VERSION_CONTENT">
		<p>Version 1.310  (September 16 2014))</p>

</div>
<h1 id="COPYRIGHT_AND_LICENSE">COPYRIGHT AND LICENSE</h1><p><a href="#TOP" class="toplink">Top</a></p>
<div id="COPYRIGHT_AND_LICENSE_CONTENT">
		<p>Copyright (C) 2013 by ovido gmbh</p>
		<p>This library is free software; you can redistribute it and/or modify
it under the same terms as BPView itself.</p>

</div>
</div></body>
</html>
